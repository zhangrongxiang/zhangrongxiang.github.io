<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>JackZhang's Blog | JackZhang's Blog</title><meta name="author" content="JackZhang"><meta name="copyright" content="JackZhang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="è´å°”æ›¼æ–¹ç¨‹åœ¨ä¸€ä¸ªé©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹ä¸­ï¼Œä»ç¬¬tæ—¶åˆ»çŠ¶æ€å¼€å§‹ï¼Œç›´åˆ°ç»ˆæ­¢çŠ¶æ€Tæ—¶ï¼Œæ‰€æœ‰å¥–åŠ±çš„è¡°å‡ä¹‹å’Œç§°ä¸ºå›æŠ¥ï¼ˆReturnï¼‰ï¼Œå…¬å¼å¦‚ä¸‹ï¼š$$G_{t}&#x3D;r_{t+1}+\gamma r_{t+2}+\gamma^{2} r_{t+3}+\gamma^{3} r_{t+4}+\ldots+\gamma^{T-t-1} r_{T}$$å…¶ä¸­ï¼Œ$T$æ˜¯æœ€ç»ˆæ—¶åˆ»ï¼Œ$\gamma$ æ˜¯æŠ˜æ‰£å› å­ï¼Œè¶Šå¾€åå¾—åˆ°çš„å¥–åŠ±ï¼ŒæŠ˜æ‰£"><meta property="og:type" content="article"><meta property="og:title" content="JackZhang&#39;s Blog"><meta property="og:url" content="https://www.jkzhang.ml/2025/02/22/#%20%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B/index.html"><meta property="og:site_name" content="JackZhang&#39;s Blog"><meta property="og:description" content="è´å°”æ›¼æ–¹ç¨‹åœ¨ä¸€ä¸ªé©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹ä¸­ï¼Œä»ç¬¬tæ—¶åˆ»çŠ¶æ€å¼€å§‹ï¼Œç›´åˆ°ç»ˆæ­¢çŠ¶æ€Tæ—¶ï¼Œæ‰€æœ‰å¥–åŠ±çš„è¡°å‡ä¹‹å’Œç§°ä¸ºå›æŠ¥ï¼ˆReturnï¼‰ï¼Œå…¬å¼å¦‚ä¸‹ï¼š$$G_{t}&#x3D;r_{t+1}+\gamma r_{t+2}+\gamma^{2} r_{t+3}+\gamma^{3} r_{t+4}+\ldots+\gamma^{T-t-1} r_{T}$$å…¶ä¸­ï¼Œ$T$æ˜¯æœ€ç»ˆæ—¶åˆ»ï¼Œ$\gamma$ æ˜¯æŠ˜æ‰£å› å­ï¼Œè¶Šå¾€åå¾—åˆ°çš„å¥–åŠ±ï¼ŒæŠ˜æ‰£"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2025-02-22T08:34:25.475Z"><meta property="article:modified_time" content="2025-01-15T13:36:32.350Z"><meta property="article:author" content="JackZhang"><meta property="article:tag" content="ï¿½?"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.jkzhang.ml/2025/02/22/#%20%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:void 0,copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"JackZhang's Blog",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-01-15 21:36:32"}</script><script>(e=>{e.saveToLocal={set:(e,t,a)=>{0!==a&&(a={value:t,expiry:Date.now()+864e5*a},localStorage.setItem(e,JSON.stringify(a)))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,n={})=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(n).forEach(e=>{a.setAttribute(e,n[e])}),document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme");"dark"===e?activateDarkMode():"light"===e&&activateLightMode();e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="JackZhang's Blog" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s3.bmp.ovh/imgs/2024/06/07/50ea7f3f41ccf524.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">18</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="JackZhang's Blog"><img class="site-icon" src="/img/favicon.ico"><span class="site-name">JackZhang's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">æ— é¢˜</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-02-22T08:34:25.475Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-01-15T13:36:32.350Z" title="æ›´æ–°äº 2025-01-15 21:36:32">2025-01-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="è´å°”æ›¼æ–¹ç¨‹"><a href="#è´å°”æ›¼æ–¹ç¨‹" class="headerlink" title="è´å°”æ›¼æ–¹ç¨‹"></a>è´å°”æ›¼æ–¹ç¨‹</h1><p>åœ¨ä¸€ä¸ªé©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹ä¸­ï¼Œä»ç¬¬tæ—¶åˆ»çŠ¶æ€å¼€å§‹ï¼Œç›´åˆ°ç»ˆæ­¢çŠ¶æ€Tæ—¶ï¼Œæ‰€æœ‰å¥–åŠ±çš„è¡°å‡ä¹‹å’Œç§°ä¸º<strong>å›æŠ¥</strong>ï¼ˆReturnï¼‰ï¼Œå…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>G_{t}=r_{t+1}+\gamma r_{t+2}+\gamma^{2} r_{t+3}+\gamma^{3} r_{t+4}+\ldots+\gamma^{T-t-1} r_{T}<br>$$<br>å…¶ä¸­ï¼Œ$T$æ˜¯æœ€ç»ˆæ—¶åˆ»ï¼Œ$\gamma$ æ˜¯æŠ˜æ‰£å› å­ï¼Œè¶Šå¾€åå¾—åˆ°çš„å¥–åŠ±ï¼ŒæŠ˜æ‰£è¶Šå¤šã€‚å…³äºæŠ˜æ‰£å› å­çš„å¿…è¦æ€§ï¼Œä»¥å‰çš„ç¬”è®°å·²ç»ä»‹ç»è¿‡ã€‚</p><p>å¦‚æœæå–ä¸€ä¸ª$\gamma$ï¼Œè¿˜å¯ä»¥å¾—åˆ°ä¸€ä¸ªé€’æ¨å¼ï¼š<br>$$<br>G_{t}=r_{t+1}+\gamma G_{t+1}<br>$$<br>è¿™ä¸ªæ„æ€æ˜¯ï¼Œæ­¤æ—¶çš„è®¡ç®—åªéœ€è¦å…³æ³¨è¿™ä¸€æ­¥çš„å¥–åŠ±ï¼ŒåŠ æŠ˜æ‰£å› å­ä¹˜ä»¥ä¸‹ä¸€æ­¥çš„å›æŠ¥å³å¯ã€‚è¿™ä¸ªå¼å­æ¨å¯¼è´å°”æ›¼æ–¹ç¨‹æ—¶æå…¶æœ‰ç”¨ã€‚</p><p>æ¥ä¸‹æ¥å®šä¹‰ä»·å€¼å‡½æ•°ï¼š<br>$$<br>\begin{aligned}<br>V_{\pi}(s) &amp;=\mathbb{E}\left[G_{t} \mid s_{t}=s\right] \<br>&amp;=\mathbb{E}\left[r_{t+1}+\gamma r_{t+2}+\gamma^{2} r_{t+3}+\ldots+\gamma^{T-t-1} r_{T} \mid s_{t}=s\right]<br>\end{aligned}<br>$$<br>å…¶ä¸­ï¼Œ$G_t$ æ˜¯ä¹‹å‰å®šä¹‰çš„<strong>æŠ˜æ‰£å›æŠ¥ï¼ˆdiscounted returnï¼‰</strong>ã€‚æˆ‘ä»¬å¯¹$G_t$å–äº†ä¸€ä¸ªæœŸæœ›ï¼ŒæœŸæœ›å°±æ˜¯ä»è¿™ä¸ªçŠ¶æ€å¼€å§‹ï¼Œæˆ‘ä»¬å¯èƒ½è·å¾—å¤šå¤§çš„ä»·å€¼ã€‚æ‰€ä»¥æœŸæœ›ä¹Ÿå¯ä»¥çœ‹æˆæœªæ¥å¯èƒ½è·å¾—å¥–åŠ±çš„å½“å‰ä»·å€¼çš„è¡¨ç°ï¼Œå°±æ˜¯å½“æˆ‘ä»¬è¿›å…¥æŸä¸€ä¸ªçŠ¶æ€åï¼Œæˆ‘ä»¬ç°åœ¨æœ‰å¤šå¤§çš„ä»·å€¼ã€‚</p><p>å¯ä»¥çœ‹åˆ°ä»·å€¼å‡½æ•°æœ‰ä¸€ä¸ªä¸‹æ ‡$\pi$ï¼Œè¿™æ˜¯å› ä¸ºä»·å€¼å‡½æ•°é™¤äº†ä¸sæœ‰å…³ï¼Œä¹Ÿä¸ç­–ç•¥$\pi$æœ‰å…³ï¼Œä¸åŒçš„ç­–ç•¥ä»·å€¼å‡½æ•°è‡ªç„¶ä¹Ÿä¸ä¸€æ ·ã€‚å¹¶ä¸”ä»·å€¼å‡½æ•°è¶Šå¤§ï¼Œè¯´æ˜è¿™ä¸ªç­–ç•¥è¶Šå¥½ã€‚å› æ­¤ä»·å€¼å‡½æ•°å¯ä»¥è¯„ä¼°ç­–ç•¥çš„ä¼˜åŠ£ã€‚</p><p>æˆ‘ä»¬åˆ©ç”¨ä»·å€¼å‡½æ•°è¡¨ç¤ºå‡º<strong>è´å°”æ›¼æ–¹ç¨‹ï¼ˆBellman equationï¼‰</strong><br>$$<br>V(s)=\underbrace{R(s)}<em>{\text {å³æ—¶å¥–åŠ±}}+\underbrace{\gamma \sum</em>{s^{\prime} \in S} p\left(s^{\prime} \mid s\right) V\left(s^{\prime}\right)}_{\text {æœªæ¥å¥–åŠ±çš„æŠ˜æ‰£æ€»å’Œ}}<br>$$<br>å…¶ä¸­ï¼Œ</p><ul><li>$sâ€™$ å¯ä»¥çœ‹æˆæœªæ¥çš„æ‰€æœ‰çŠ¶æ€ï¼Œ</li><li>$p(sâ€™|s)$ æ˜¯æŒ‡ä»å½“å‰çŠ¶æ€è½¬ç§»åˆ°æœªæ¥çŠ¶æ€çš„æ¦‚ç‡ã€‚</li><li>$V(sâ€™)$ ä»£è¡¨çš„æ˜¯æœªæ¥æŸä¸€ä¸ªçŠ¶æ€çš„ä»·å€¼ã€‚æˆ‘ä»¬ä»å½“å‰çŠ¶æ€å¼€å§‹ï¼Œæœ‰ä¸€å®šçš„æ¦‚ç‡å»åˆ°æœªæ¥çš„æ‰€æœ‰çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠ $p\left(s^{\prime} \mid s\right)$ å†™ä¸Šå»ã€‚æˆ‘ä»¬å¾—åˆ°äº†æœªæ¥çŠ¶æ€åï¼Œä¹˜ä¸€ä¸ª $\gamma$ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠæœªæ¥çš„å¥–åŠ±æ‰“æŠ˜æ‰£ã€‚</li><li>$\gamma \sum_{s^{\prime} \in S} p\left(s^{\prime} \mid s\right) V\left(s^{\prime}\right)$ å¯ä»¥çœ‹æˆæœªæ¥å¥–åŠ±çš„æŠ˜æ‰£æ€»å’Œï¼ˆdiscounted sum of future rewardï¼‰ã€‚</li></ul><p>è´å°”æ›¼æ–¹ç¨‹çš„æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>ç”±äº$V_{\pi}(s) =\mathbb{E}\left[G_{t} \mid s_{t}=s\right]$ï¼Œå†æŠŠ$G_{t}=r_{t+1}+\gamma G_{t+1}$ä»£å…¥ï¼Œå…¶ä¸­<br>$$<br>\begin{aligned}\mathbb{E}[G_{t+1}|S_{t}=s]&amp;\begin{aligned} =\sum_{s^{\prime}\in\mathcal{S}}\mathbb{E}[G_{t+1}|S_t=s,S_{t+1}=s^{\prime}]p(s^{\prime}|s)\end{aligned}\&amp;\begin{aligned}&amp;=\sum_{s^{\prime}\in\mathcal{S}}\mathbb{E}[G_{t+1}|S_{t+1}=s^{\prime}]p(s^{\prime}|s)&amp;&amp;\text{(due to the Markov property)}\end{aligned}\&amp;\begin{aligned}=\sum_{s^{\prime}\in\mathcal{S}}v_\pi(s^{\prime})p(s^{\prime}|s)\end{aligned}\&amp;\begin{aligned}&amp;=\sum_{s^{\prime}\in\mathcal{S}}v_{\pi}(s^{\prime})\sum_{a\in\mathcal{A}}p(s^{\prime}|s,a)\pi(a|s).\end{aligned}\end{aligned}<br>$$</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æ±‚æœŸæœ›äº†ï¼š</p><p>$$<br>\begin{aligned}<br>V(s)&amp;=\mathbb{E}\left[G_{t} \mid s_{t}=s\right]\<br>&amp;=\mathbb{E}\left[r_{t+1}+\gamma r_{t+2}+\gamma^{2} r_{t+3}+\ldots \mid s_{t}=s\right] \</p><pre><code>&amp;=R(s)+\gamma \mathbb&#123;E&#125;[G_&#123;t+1&#125;|s_t=s] \\

&amp;=R(s)+\gamma \sum_&#123;s^&#123;\prime&#125; \in S&#125; p\left(s^&#123;\prime&#125; \mid s\right) V\left(s^&#123;\prime&#125;\right)
\end&#123;aligned&#125;
</code></pre><p>$$<br>å†è¿›ä¸€æ­¥æ¢ç©¶ï¼š<br>$$<br>\begin{aligned}v_{\pi}(s)&amp;=\mathbb{E}[R_{t+1}|S_{t}=s]+\gamma\mathbb{E}[G_{t+1}|S_{t}=s],\&amp;=\underbrace{\sum_a\pi(a|s)\sum_rp(r|s,a)r}<em>{\text{mean of immediate rewards}}+\underbrace{\gamma\sum_a\pi(a|s)\sum_{s^{\prime}}p(s^{\prime}|s,a)v_\pi(s^{\prime})}_{\text{mean of future rewards}},\&amp;=\sum</em>{a}\underbrace{\pi(a|s)}\left[\sum_{r}\underbrace{p(r|s,a)r}<em>{}+\gamma\sum</em>{s^{\prime}}\underbrace{p(s^{\prime}|s,a)}<em>{}\underbrace{v</em>{\pi}(s^{\prime})}_{}\right],\quad\forall s\in\mathcal{S}.\end{aligned}<br>$$<br>å¾—åˆ°äº†å…³äº$\pi$çš„è¡¨è¾¾å¼ï¼Œè¿™å°±è¯´æ˜äº†ç­–ç•¥$\pi$ä¸çŠ¶æ€å‡½æ•°çš„å…³ç³»ï¼Œè¿™ä¸ºpolicy evaluationæä¾›äº†å·¥å…·ï¼</p><p>æˆ‘ä»¬å¯ä»¥æŠŠè´å°”æ›¼æ–¹ç¨‹å†™æˆçŸ©é˜µçš„å½¢å¼ï¼š<br>$$<br>\left(\begin{array}{c}<br>V\left(s_{1}\right) \<br>V\left(s_{2}\right) \<br>\vdots \<br>V\left(s_{N}\right)<br>\end{array}\right)=\left(\begin{array}{c}<br>R\left(s_{1}\right) \<br>R\left(s_{2}\right) \<br>\vdots \<br>R\left(s_{N}\right)<br>\end{array}\right)+\gamma\left(\begin{array}{cccc}<br>p\left(s_{1} \mid s_{1}\right) &amp; p\left(s_{2} \mid s_{1}\right) &amp; \ldots &amp; p\left(s_{N} \mid s_{1}\right) \<br>p\left(s_{1} \mid s_{2}\right) &amp; p\left(s_{2} \mid s_{2}\right) &amp; \ldots &amp; p\left(s_{N} \mid s_{2}\right) \<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \<br>p\left(s_{1} \mid s_{N}\right) &amp; p\left(s_{2} \mid s_{N}\right) &amp; \ldots &amp; p\left(s_{N} \mid s_{N}\right)<br>\end{array}\right)\left(\begin{array}{c}<br>V\left(s_{1}\right) \<br>V\left(s_{2}\right) \<br>\vdots \<br>V\left(s_{N}\right)<br>\end{array}\right)<br>$$</p><p>æˆ‘ä»¬å½“å‰çš„çŠ¶æ€æ˜¯å‘é‡$[V(s_1),V(s_2),\cdots,V(s_N)]^\mathrm{T}$ã€‚æ¯ä¸€è¡Œæ¥çœ‹ï¼Œå‘é‡$\boldsymbol{V}$ä¹˜çŠ¶æ€è½¬ç§»çŸ©é˜µé‡Œé¢çš„æŸä¸€è¡Œï¼Œå†åŠ ä¸Šå®ƒå½“å‰å¯ä»¥å¾—åˆ°çš„å¥–åŠ±ï¼Œå°±ä¼šå¾—åˆ°å®ƒå½“å‰çš„ä»·å€¼ã€‚</p><p>å½“æˆ‘ä»¬æŠŠè´å°”æ›¼æ–¹ç¨‹å†™æˆçŸ©é˜µå½¢å¼åï¼Œå¯ä»¥ç›´æ¥æ±‚è§£ï¼š<br>$$<br>\begin{aligned}<br>\boldsymbol{V} &amp;= \boldsymbol{\boldsymbol{R}}+ \gamma \boldsymbol{P}\boldsymbol{V} \<br>\boldsymbol{I}\boldsymbol{V} &amp;= \boldsymbol{R}+ \gamma \boldsymbol{P}\boldsymbol{V} \<br>(\boldsymbol{I}-\gamma \boldsymbol{P})\boldsymbol{V}&amp;=\boldsymbol{R} \<br>\boldsymbol{V}&amp;=(\boldsymbol{I}-\gamma \boldsymbol{P})^{-1}\boldsymbol{R}<br>\end{aligned}<br>$$</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—åˆ°<strong>è§£æè§£ï¼ˆanalytic solutionï¼‰</strong>ï¼š<br>$$<br>\boldsymbol{V}=(\boldsymbol{I}-\gamma \boldsymbol{P})^{-1} \boldsymbol{R}<br>$$</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡çŸ©é˜µæ±‚é€†æŠŠ $\boldsymbol{V}$ çš„ä»·å€¼ç›´æ¥æ±‚å‡ºæ¥ã€‚ä½†æ˜¯ä¸€ä¸ªé—®é¢˜æ˜¯è¿™ä¸ªçŸ©é˜µæ±‚é€†çš„è¿‡ç¨‹çš„å¤æ‚åº¦æ˜¯ $O(N^3)$ã€‚æ‰€ä»¥å½“çŠ¶æ€éå¸¸å¤šçš„æ—¶å€™ï¼Œæ¯”å¦‚ä»10ä¸ªçŠ¶æ€åˆ°1000ä¸ªçŠ¶æ€ï¼Œæˆ–è€…åˆ°100ä¸‡ä¸ªçŠ¶æ€ï¼Œå½“æˆ‘ä»¬æœ‰100ä¸‡ä¸ªçŠ¶æ€çš„æ—¶å€™ï¼ŒçŠ¶æ€è½¬ç§»çŸ©é˜µå°±ä¼šæ˜¯ä¸€ä¸ª100ä¸‡ä¹˜100ä¸‡çš„çŸ©é˜µï¼Œå¯¹è¿™æ ·ä¸€ä¸ªå¤§çŸ©é˜µæ±‚é€†æ˜¯éå¸¸å›°éš¾çš„ã€‚æ‰€ä»¥è¿™ç§é€šè¿‡è§£æè§£å»æ±‚è§£çš„æ–¹æ³•åªé€‚ç”¨äºå¾ˆå°é‡çš„é©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹ã€‚</p><p><img src="C:\Users\24376\AppData\Roaming\Typora\typora-user-images\image-20250115181203944.png" alt="image-20250115181203944"></p><p>è¿™ä¸ªè§£æ³•åˆ©ç”¨äº†<strong>ä¸åŠ¨ç‚¹æ€æƒ³ï¼š</strong>å‡è®¾ä»£æ•°æ–¹ç¨‹</p><p><img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/ad27e68aee3a027d0a5bace0c55dd79250239c47" alt="{\displaystyle f(x)=0}"></p><p>å¯ä»¥ç­‰ä»·å†™æˆ</p><p><img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/c1944e08d22cd6b68dcb809cdc1804d0df3b5458" alt="{\displaystyle x=\varphi (x).}"></p><p>æˆ‘ä»¬ç§°æ»¡è¶³<img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/b598d12079d102bda91773a160b7c99540c36d9c" alt="{\displaystyle x^{*}=\varphi (x^{*})}">çš„<img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/0c3d92911742787872be53f047783d16d9737ea0" alt="{\displaystyle x^{*}}">ä¸º<img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/87792d8065e427aa737caaf609bbdf9da8cd6a3e" alt="{\displaystyle \varphi (x)}">çš„<strong>ä¸åŠ¨ç‚¹</strong>ï¼Œè®¾è®¡å¦‚ä¸‹è¿­ä»£æ ¼å¼</p><p><img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/1300b775de9924f6d1d0cdda71d12b8d29ec7541" alt="{\displaystyle x_{k+1}=\varphi (x_{k}),\quad k=0,1,\cdots .}"></p><p>å¦‚æœè¯¥æ ¼å¼æ”¶æ•›ï¼Œé‚£ä¹ˆå®ƒå¯ç”¨äºæ±‚è§£<img src="https://services.fandom.com/mathoid-facade/v1/media/math/render/svg/ad27e68aee3a027d0a5bace0c55dd79250239c47" alt="{\displaystyle f(x)=0}">çš„é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•å°±æ˜¯ä¸åŠ¨ç‚¹è¿­ä»£æ³•ã€‚ è‡³äºè¿™ä¸ªè¿­ä»£æ ¼å¼æ˜¯å¦æ”¶æ•›ï¼Œåˆ™éœ€è¦åˆ©ç”¨ä¸åŠ¨ç‚¹å®šç†ä½œè¿›ä¸€æ­¥åˆ†æã€‚</p><p><img src="C:\Users\24376\AppData\Roaming\Typora\typora-user-images\image-20250115181634889.png" alt="image-20250115181634889"></p><p>å¯¹äºMDPï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€èŠ‚é‡Œå·²ç»è®²åˆ°äº†å®ƒçš„ä»·å€¼å‡½æ•°$v_\pi(s)$çš„è¡¨è¾¾å¼ã€‚ä½†æ˜¯è¿™ä¸ªè¡¨è¾¾å¼æ²¡æœ‰è€ƒè™‘åˆ°æ‰€é‡‡ç”¨çš„åŠ¨ä½œ<em>a</em>å¸¦æ¥çš„ä»·å€¼å½±å“ï¼Œå› æ­¤æˆ‘ä»¬é™¤äº†è¿™ä¸ª$v_\pi(s)$çŠ¶æ€ä»·å€¼å‡½æ•°å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåŠ¨ä½œä»·å€¼å‡½æ•°$q_\pi(s,a)$ï¼Œå³ï¼š<br>$$<br>q_{\pi}(s, a)=\mathbb{E}<em>{\pi}\left[G</em>{t} \mid s_{t}=s, a_{t}=a\right] \tag{2.4}<br>$$<br>ä½¿ç”¨$q_\pi(s)$å¯ä»¥è¡¨ç¤ºçŠ¶æ€ä»·å€¼å‡½æ•°ï¼Œå³ï¼š<br>$$<br>v_{\pi}(s)=\sum_{a \in A} \pi(a \mid s)q_{\pi}(s, a)<br>\tag{2.5}<br>$$<br>å¦å¤–ï¼Œæˆ‘ä»¬ç»™å‡º Q å‡½æ•°çš„è´å°”æ›¼æ–¹ç¨‹</p><p>$$<br>Q(s, a)=R(s, a)+\gamma \sum_{s^{\prime} \in S} p\left(s^{\prime} \mid s, a\right) V\left(s^{\prime}\right) \tag{2.21}<br>$$<br>æ ¹æ®å’Œçš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è´å°”æ›¼æœ€ä¼˜æ–¹ç¨‹ï¼ˆBellman optimality equationï¼‰ï¼š<br>$$<br>V^*(s)=\max_{a\in\mathcal{A}}{r(s,a)+\gamma\sum_{s^{\prime}\in\mathcal{S}}p(s^{\prime}|s,a)V^*(s^{\prime})}<br>$$</p><p>$$<br>Q^*(s,a)=r(s,a)+\gamma\sum_{s^{\prime}\in\mathcal{S}}p(s^{\prime}|s,a)\max_{a^{\prime}\in\mathcal{A}}Q^*(s^{\prime},a^{\prime})<br>$$</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://www.jkzhang.ml">JackZhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://www.jkzhang.ml/2025/02/22/#%20%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B/">https://www.jkzhang.ml/2025/02/22/#%20%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://www.jkzhang.ml" target="_blank">JackZhang's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/02/22/##%20%E5%80%BC%E8%BF%AD%E4%BB%A3%20%20Value%20Iteration/"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2025/02/20/%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%9C%80%E4%BC%98%E5%85%AC%E5%BC%8F/" title="Attention is all I needï¼šTransformerçš„åŸç†å’Œä»£ç è¯¦è§£"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Attention is all I needï¼šTransformerçš„åŸç†å’Œä»£ç è¯¦è§£</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s3.bmp.ovh/imgs/2024/06/07/50ea7f3f41ccf524.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">JackZhang</div><div class="author-info__description">äººï¼Œå¯ä»¥ç”Ÿå¦‚èšè€Œç¾å¦‚ç¥</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zhangrongxiang" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="/2437603206@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">è¿™ä¸ªblogå·²ç»å¹´ä¹…å¤±ä¿®ï¼Œå…³äºæˆ‘çš„æ–‡ç« ï¼Œæ¬¢è¿æ¥CSDNè®¿é—® ğŸ¥°</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">è´å°”æ›¼æ–¹ç¨‹</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E6%9C%AC%E8%84%89%E7%BB%9C/" title="æ— é¢˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2025/02/22/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E6%9C%AC%E8%84%89%E7%BB%9C/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2025-02-22T08:34:25.493Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95/" title="æ— é¢˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2025/02/22/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2025-02-22T08:34:25.491Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/%E6%94%B9%E5%8A%A8/" title="æ— é¢˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2025/02/22/%E6%94%B9%E5%8A%A8/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2025-02-22T08:34:25.490Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/reward-to-go/" title="æ— é¢˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2025/02/22/reward-to-go/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2025-02-22T08:34:25.484Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/##%20%E5%80%BC%E8%BF%AD%E4%BB%A3%20%20Value%20Iteration/" title="æ— é¢˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2025/02/22/##%20%E5%80%BC%E8%BF%AD%E4%BB%A3%20%20Value%20Iteration/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2025-02-22T08:34:25.479Z" title="å‘è¡¨äº 2025-02-22 16:34:25">2025-02-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By JackZhang</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>